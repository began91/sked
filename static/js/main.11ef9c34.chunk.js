(this.webpackJsonpsked=this.webpackJsonpsked||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/28patch.0bbd909b.png"},,,,function(e,t,n){e.exports=n(43)},,,,,function(e,t,n){},,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),l=n.n(c),i=(n(26),n(3)),o=n(17),u=n.n(o),s=(n(32),n(10)),m=n(1),d=n.n(m),f=n(5),v=n(9),p=n(14),E=3,Y=7,h=10,D=11,b=12,M=21,g=22,C=24,H=25,T=36,k=44,N=function(e,t){var n=t.payload,a={},r={},c={},l="",i="",o="",u="";n.forEach((function(e){if(!e[g])return 0;var t=e[E].slice(0,3)||i;i=t;var n=e[T],s=Object(p.a)(),m={student:e[g],uid:s,event:e[C],duration:Number(e[H]),TMS:e[b],ETD:"",skedDep:e[D]?d()(e[D].slice(-5),"H:mm").format("MM/DD/YYYY H:mm"):d()(o,"MM/DD/YYYY H:mm").add(60*u+15,"minutes").format("MM/DD/YYYY H:mm"),ATD:"",status:"",notes:n,line:t};if(u=m.duration,o=m.skedDep,e[M]){var f,v=Object(p.a)(),N={name:e[M],uid:v,breif:e[Y],skedDep:d()(e[D].slice(-5),"H:mm").format("MM/DD/YYYY H:mm"),ETD:"",ETA:"",status:"",events:[],notes:[]};if(l=v,r[v]=N,(null===(f=a[t])||void 0===f?void 0:f.instructors)?a[t].instructors.push(v):a[t]={instructors:[v]},e[h]&&!a[t].aircraft){var w={TMS:e[b],side:e[h].slice(2,5),buno:e[h].slice(-7,-1),GTN:"TH-57C"===e[b]||e[h].includes("***"),NVG:"TH-57C"===e[b]&&e[h].includes("*"),parking:e[k],status:{up:!0,time:"0800",notes:""}};a[t].aircraft=w}}if(m.instructorUID=l,c[s]=m,"CREW"===e[C]||"HT OBS (Helo)"===e[C]){var O=e[g];r[l].crew=O}else r[l].events.push(s),r[l].notes.push(n),a[t].events?a[t].events.push(s):a[t].events=[s]})),e.lines=a,e.instructors=r,e.events=c,e.parsedData=n},w=function e(t,n,a,r){var c;t.lines[n].instructors.filter((function(e){var n=t.instructors[e],c=n.ETD||n.skedDep;return!n.status&&e!==a&&function(e,t){return d()(t,"MM/DD/YYYY H:mm").subtract(15,"m").isBefore(d()(e,"MM/DD/YYYY H:mm"))}(r,c)})).reduce((function(e,n){return e.push.apply(e,Object(s.a)(t.instructors[n].events)),e}),[]).map((function(e){return t.events[e]})).sort((function(e,t){var n=e.ATD||e.ETD||e.skedDep,a=t.ATD||t.ETD||t.skedDep;return d()(n,"MM/DD/YYYY H:mm")-d()(a,"MM/DD/YYYY H:mm")})).reduce((function(e,t){return t.ETD=e.format("MM/DD/YYYY H:mm"),t.ETA=e.add(t.duration,"h").format("MM/DD/YYYY H:mm"),c=t.ETA,e.add(15,"m")}),d()(r,"MM/DD/YYYY H:mm").add(15,"m")),c&&e(t,n,c)},O=Object(v.b)({name:"schedule",initialState:{parsedData:[],lines:{},instructors:{},events:{}},reducers:{parseData:function(e,t){N(e,t)},launch:function(e,t){var n=t.payload,a=e.events[n];a.ATD=d()().format("MM/DD/YYYY H:mm"),a.ETE=e.events[n].duration,a.ETA=d()().add(a.duration,"h").format("MM/DD/YYYY H:mm"),a.status="airborne";var r=a.instructorUID;e.instructors[r].status="airborne";var c=a.line,l=a.ETA;e.instructors[r].events.map((function(t){return e.events[t]})).filter((function(e){return e.uid!==n&&!e.status})).reduce((function(e,t){return t.ETD=e.format("MM/DD/YYYY H:mm"),t.ETA=e.add(t.duration,"h").format("MM/DD/YYYY H:mm"),l=t.ETA,e.add(15,"m")}),d()(e.events[n].ETA,"MM/DD/YYYY H:mm").add(15,"m")),e.instructors[r].ETA=l,w(e,c,r,l)},inbound:function(e,t){var n=Object(f.a)(t.payload,2),a=n[0],r=n[1],c=d()().add(r,"minutes").format("MM/DD/YYYY H:mm"),l=e.events.findIndex((function(e){return e.uid===a}));e.events[l].ATA=c,e.events[l].status="inbound"},land:function(e,t){var n=t.payload,a=e.events.findIndex((function(e){return e.uid===n}));e.events[a].status="landed"}}}),y=O.actions,A=y.parseData,j=y.launch,L=y.inbound,S=(y.land,O.reducer);n(34),n(35);var I=function(e){return a.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1 1",width:"1em",height:"1em",className:"plane-launch",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{id:"runway",d:"M0.975 0.8H0.025C0.0111875 0.8 0 0.811188 0 0.825V0.875C0 0.888813 0.0111875 0.9 0.025 0.9H0.975C0.988813 0.9 1 0.888813 1 0.875V0.825C1 0.811188 0.988813 0.8 0.975 0.8Z",fill:"black"}),a.createElement("path",{id:"plane-launch",d:"M0.125859 0.633234C0.135672 0.643922 0.149453 0.649984 0.163875 0.649969L0.367844 0.649687C0.38394 0.649666 0.399806 0.645855 0.414156 0.638562L0.868781 0.407859C0.910563 0.386656 0.948016 0.356391 0.9735 0.31675C1.00211 0.27225 1.00522 0.240047 0.993922 0.217297C0.982656 0.194531 0.955266 0.177812 0.902906 0.174406C0.856266 0.171375 0.809875 0.183656 0.768094 0.204844L0.614172 0.282953L0.272453 0.154734C0.268345 0.151967 0.263571 0.150346 0.258627 0.150041C0.253682 0.149737 0.248746 0.150758 0.244328 0.153L0.141594 0.205141C0.124922 0.213594 0.120891 0.235844 0.133516 0.249719L0.377609 0.403L0.216344 0.484844L0.103297 0.427859C0.0994022 0.425896 0.0951002 0.424875 0.0907385 0.424881C0.0863767 0.424886 0.0820774 0.425917 0.0781875 0.427891L0.0154844 0.459719C-0.000828094 0.468 -0.00512497 0.489594 0.00678128 0.503594L0.125859 0.633234Z",fill:"black"}))};var x=function(e){return a.createElement("svg",{width:"1em",height:"1em",className:"plane-land",viewBox:"0 0 1 1",fill:"currentColor",stroke:"currentColor",strokeWidth:"0",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{id:"runway",d:"M0.975 0.8H0.025C0.0111875 0.8 0 0.811188 0 0.825V0.875C0 0.888813 0.0111875 0.9 0.025 0.9H0.975C0.988813 0.9 1 0.888813 1 0.875V0.825C1 0.811188 0.988813 0.8 0.975 0.8Z",fill:"black"}),a.createElement("path",{id:"plane-land",d:"M0.0700156 0.421344L0.208672 0.546344C0.220049 0.556617 0.233681 0.564072 0.248469 0.568109L0.697844 0.690531C0.739219 0.701797 0.783094 0.704156 0.824406 0.692656C0.870766 0.679734 0.892281 0.659516 0.898234 0.636859C0.904219 0.614203 0.895531 0.58575 0.861719 0.550984C0.831594 0.520016 0.792422 0.49975 0.751047 0.488484L0.598688 0.446984L0.441875 0.147219C0.439516 0.138141 0.432578 0.131047 0.423656 0.128609L0.321953 0.100906C0.305453 0.0964062 0.289297 0.109219 0.289594 0.126594L0.364469 0.383172L0.204781 0.339672L0.161672 0.233609C0.158656 0.225969 0.152281 0.220219 0.144453 0.218094L0.082375 0.201172C0.0662188 0.196766 0.0502969 0.208984 0.05 0.225984L0.0503594 0.385016C0.0506563 0.398938 0.0597813 0.412109 0.0700156 0.421344Z",fill:"black"}))},q=function(e){var t=Object(i.b)(),n=e.event,c={C:"rgba(255,0,0,".concat(.5),T:"rgba(255,165,0,".concat(.5,")"),N:"rgba(0,128,0,".concat(.5,")"),I:"rgba(135,206,235,".concat(.5,")"),V:"rgba(128,0,128,".concat(.5,")"),S:"rgba(255,165,0,".concat(.5,")"),F:"rgba(255,255,0,".concat(.5,")")}[n.event[0]]||"rgba(255,182,193,".concat(.5,")"),l=Object(a.useState)(!1),o=Object(f.a)(l,2),u=o[0];o[1];return r.a.createElement("div",{className:"stud-menu",style:{backgroundColor:c}},r.a.createElement("button",{className:"launch",onClick:function(e){return t(j(n.uid))}},r.a.createElement(I,null)),u&&r.a.createElement("ul",{className:"menu-popup"},r.a.createElement("li",{className:"launch",onClick:function(e){return t(j(n.uid))}},"Launch"),r.a.createElement("li",{className:"inbound"},r.a.createElement(x,null)," \u203a",r.a.createElement("ul",{className:"menu-popup sub-menu"},r.a.createElement("li",{className:"inbound-time",onClick:function(e){return t(L([n.uid,5]))}},"5 Out"),r.a.createElement("li",{className:"inbound-time",onClick:function(e){return t(L([n.uid,10]))}},"10 Out"),r.a.createElement("li",{className:"inbound-time",onClick:function(e){return t(L([n.uid,15]))}},"15 Out"),r.a.createElement("li",{className:"inbound-time",onClick:function(e){return t(L([n.uid,20]))}},"20 Out"),r.a.createElement("li",{className:"inbound-time",onClick:function(e){return t(L([n.uid,30]))}},"30 Out")))))},V=function(){var e=Object(a.useState)(d()().format("MM/DD/YYYY H:mm")),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){r(d()().format("MM/DD/YYYY H:mm"))}),3e4);return function(){return clearInterval(e)}}),[3e4,r]),n},R=(n(36),function(e){var t=e.event,n=t.status,a=V(),c={width:0,backgroundColor:{C:"rgba(255,0,0,".concat(1),T:"rgba(255,165,0,".concat(1,")"),N:"rgba(0,128,0,".concat(1,")"),I:"rgba(135,206,235,".concat(1,")"),V:"rgba(128,0,128,".concat(1,")"),S:"rgba(255,165,0,".concat(1,")"),F:"rgba(255,255,0,".concat(1,")")}[t.event[0]]||"rgba(255,182,193,".concat(1,")")};if(t.ATD&&("airborne"===n||"inbound"===n)){var l=Math.round((d()(a,"MM/DD/YYYY H:mm")-d()(t.ATD,"MM/DD/YYYY H:mm"))/6e4),i=Math.round(l/(60*t.duration)*100);c.width="".concat(i,"%"),c.borderTopRightRadius=i>90&&"10px",c.borderBottomRightRadius=i>90&&"10px"}return r.a.createElement("div",{className:"status",style:c})}),B=(n(37),function(e){var t=e.event,n="airborne"===t.status||"inbound"===t.status?.5:1,a={C:"rgba(255,0,0,".concat(n),T:"rgba(255,165,0,".concat(n,")"),N:"rgba(0,128,0,".concat(n,")"),I:"rgba(135,206,235,".concat(n,")"),V:"rgba(128,0,128,".concat(n,")"),S:"rgba(255,165,0,".concat(n,")"),F:"rgba(255,255,0,".concat(n,")")},c=t.student,l=c.split(" ")[0]+" "+c.split(" ")[1][0],i=Math.round(60*t.duration),o=a[t.event[0]]||"rgba(255,182,193,".concat(n,")"),u=t.ATD||t.ETD||t.skedDep,s=Math.floor((d()(u,"MM/DD/YYYY H:mm")-d()("0800","HHmm"))/1e3/60),m="auto";(s<0||s+i>1020)&&(s=-i,m="auto");var f={gridColumn:"".concat(s," / span ").concat(i),gridRowStart:m,backgroundColor:"white"};return r.a.createElement("div",{className:"event",style:f},r.a.createElement("div",{className:"event-info",style:{backgroundColor:o}},r.a.createElement("h4",{className:"stud-name"},l),r.a.createElement("p",null,t.event.slice(0,8)," ",t.duration.toFixed(1))),r.a.createElement(q,{event:t}),r.a.createElement(R,{event:t}))}),P=(n(38),function(e){var t,n=Object(i.c)((function(t){return t.schedule.instructors[e.uid]})),a=n.name,c=a.includes("SOLO")?"SOLO":a.split(" ")[0]+" "+a.split(" ")[1][0],l=n.crew,o=(null===l||void 0===l?void 0:l.split(" ")[0])+" "+(null===l||void 0===l?void 0:l.split(" ")[1][0]),u=n.ATD||n.ETD||n.skedDep,s=Object(i.c)((function(e){return n.events.map((function(t){return e.schedule.events[t]}))})),m=Math.round(s.reduce((function(e,t){return e+60*t.duration+15}),-15)),f={gridColumn:"".concat((t=u,Math.floor((d()(t,"MM/DD/YYYY H:mm")-d()("0800","HHmm"))/1e3/60))," / span ").concat(m)};return r.a.createElement("div",{className:"instructor",style:f},r.a.createElement("h3",{className:"instructor-name"},c,l?" / ".concat(o):""))}),W=(n(39),function(){for(var e=[],t=0;t<17;t++){var n=d()(t+8,"HH").format("HHmm");e.push(r.a.createElement("div",{className:"time",key:n},n))}return r.a.createElement("div",{className:"times"},e)}),F=function(e){var t=e.line,n=Object(i.c)((function(e){return e.schedule.lines[t].instructors})),a=function(e){var t=Object(i.c)((function(t){return e.map((function(e){return t.schedule.events[e]}))}));return Object(s.a)(t).sort((function(e,t){var n=e.ATD||e.ETD||e.skedDep,a=t.ATD||t.ETD||t.skedDep;return d()(n,"MM/DD/YYYY H:mm")-d()(a,"MM/DD/YYYY H:mm")}))}(Object(i.c)((function(e){return e.schedule.lines[t].events})));return r.a.createElement("div",{className:"line"},r.a.createElement(W,null),r.a.createElement("div",{className:"horizontal-line"}),r.a.createElement("span",{className:"line-name"},t),r.a.createElement("div",{className:"instructors-container"},n.map((function(e,t){return r.a.createElement(P,{uid:e,key:t})}))),r.a.createElement("div",{className:"events-container"},a.map((function(e,t){return r.a.createElement(B,{event:e,key:t})}))))},Z=(n(40),function(){for(var e=Math.round((d()(V(),"MM/DD/YYYY H:mm")-d()("08","HH"))/6e4),t=[],n=0;n<17;n++){var a=null;Math.floor(e/60)===n&&(a=Math.floor((e%60-1)/15)),t.push(r.a.createElement("div",{className:"hour",key:n},r.a.createElement("div",{className:"quarter quarter1 ".concat(0===a&&"active-quarter")}),r.a.createElement("div",{className:"quarter quarter2 ".concat(1===a&&"active-quarter")}),r.a.createElement("div",{className:"quarter quarter3 ".concat(2===a&&"active-quarter")}),r.a.createElement("div",{className:"quarter quarter4 ".concat(3===a&&"active-quarter")})))}return r.a.createElement("div",{id:"schedule-grid"},t,e<1020&&r.a.createElement("div",{id:"minute",style:{gridColumnStart:e}},"\xa0"))}),G=function(){var e=Object(i.c)((function(e){return Object.keys(e.schedule.lines).sort().map((function(e){return r.a.createElement(F,{line:e,key:e})}))}));return r.a.createElement("div",{id:"schedule"},r.a.createElement(Z,null),r.a.createElement("div",{id:"schedule-lines"},e))},z=n(18),J=n.n(z),U=n(20),K=(n(41),function(){var e=Object(i.b)();return r.a.createElement(U.a,{onDrop:function(t){t.length&&t.forEach((function(t){var n={error:function(e,t){console.log("Parsing Error: ",e,t)},complete:function(t,n){console.log("Parsing Complete: ",t,n),e(A(t.data))},skipEmptyLines:!0,header:!1};J.a.parse(t,n)}))},accept:"application/*"},(function(e){var t=e.getRootProps,n=e.getInputProps,a=(e.isDragActive,e.isDragAccept),c=e.isDragReject,l=a?"accept":c?"reject":"";return r.a.createElement("div",t({className:"dropzone ".concat(l)}),r.a.createElement("input",n()),r.a.createElement("div",{id:"drag-instructions"},r.a.createElement("h1",null,"How to Get Data Into the Schedule Viewer"),r.a.createElement("ol",{className:"drag-instructions"},r.a.createElement("li",null,"Open TIMS"),r.a.createElement("li",null,"My TIMS > View Schedule"),r.a.createElement("li",null,"Select and Copy the Entire Schedule",r.a.createElement("ul",{className:"drag-instructions"},r.a.createElement("li",null,"Click anywhere and press Ctrl + A & Ctrl + C"),r.a.createElement("li",null,"Edit Menu > Select All & Copy"))),r.a.createElement("li",null,"Open Excel"),r.a.createElement("li",null,"Paste Schedule into Cell A1"),r.a.createElement("li",null,"Save as .csv format"),r.a.createElement("li",null,"Drag and drop the saved file onto this box, or click in the box to browse for the schedule"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("em",null,"Note:")," Keep the .csv file handy. If you refresh this page, you will may need to upload it again."))),a&&"That is the right type of file",c&&"Wrong filetype!")}))});n(42);var $=function(){var e=Object(i.c)((function(e){return e.schedule.parsedData})),t=V();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:u.a,alt:"HT-28 Squadron Patch",className:"App-logo"}),r.a.createElement("h1",null,"HT-28 ",t.slice(-5,-3)+":"+t.slice(-2))),(null===e||void 0===e?void 0:e.length)?r.a.createElement(G,null):r.a.createElement(K,null))},Q=Object(v.a)({reducer:{schedule:S}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:Q},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[21,1,2]]]);
//# sourceMappingURL=main.11ef9c34.chunk.js.map